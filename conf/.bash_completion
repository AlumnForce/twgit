#!bash

#^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
# Bash completion support for twgit.
# Dest path: /etc/bash_completion.d/twgit
#____________________________________________________________________

function _twgit () {
	COMPREPLY=()
	local cur="${COMP_WORDS[COMP_CWORD]}"
	
	if [ "$COMP_CWORD" = "1" ]; then
		local opts="feature help hotfix release tag"
		COMPREPLY=( $(compgen -W "${opts}" -- ${cur}) )
	elif [ "$COMP_CWORD" = "2" ]; then
		local prev="${COMP_WORDS[COMP_CWORD-1]}"
		case "${prev}" in
			feature)
				local subopts="committers help list remove start"
				COMPREPLY=( $(compgen -W "${subopts}" -- ${cur}) )
				return 0
				;;
			release)
				local subopts="finish help list remove reset start"
				COMPREPLY=( $(compgen -W "${subopts}" -- ${cur}) )
				return 0
				;;
			tag)
				local subopts="help list"
				COMPREPLY=( $(compgen -W "${subopts}" -- ${cur}) )
				return 0
				;;
			hotfix)
				return 0
				;;
			*)
			;;
		esac	
	fi
}

complete -F _twgit twgit
